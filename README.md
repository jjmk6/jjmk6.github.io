# Public 文件夹说明

## 目录简介

`public` 文件夹是 Hexo 博客框架构建后生成的静态文件目录，包含了所有可以直接部署到 Web 服务器的文件。当执行 `hexo generate` 或 `npm run build` 命令时，Hexo 会将 `source` 目录中的 Markdown 文件和其他资源转换为静态 HTML 文件，并生成到 `public` 目录中。

## 目录结构

```
public/
├── about/              # 关于页面
├── archives/           # 归档页面
│   ├── 2022/           # 2022年文章归档
│   ├── 2023/           # 2023年文章归档
│   ├── 2026/           # 2026年文章归档
│   └── page/           # 归档分页
├── categories/         # 分类页面
│   ├── 教程/            # 教程分类
│   ├── 杂谈/            # 杂谈分类
│   ├── 每日复盘/         # 每日复盘分类
│   ├── 职场圆桌会/        # 职场圆桌会分类
│   └── 读书笔记/          # 读书笔记分类
├── contact/            # 联系页面
├── css/                # CSS 样式文件
├── friends/            # 友链页面
├── gitcalendar/        # Git 日历功能
├── images/             # 图片资源
├── img/                # 其他图片资源
├── js/                 # JavaScript 文件
├── link/               # 链接页面
├── page/               # 首页分页
├── pet/                # 宠物相关页面
├── posts/              # 文章页面（使用 abbrlink 格式）
├── skills/             # 技能页面
├── tags/               # 标签页面
├── atom.xml            # RSS 订阅文件
├── index.html          # 首页
├── search.xml          # 搜索索引
└── sitemap.xml         # 网站地图
```

## 内容说明

### 1. 页面文件

- **index.html**：博客首页，展示最新的文章列表
- **about/index.html**：关于页面，介绍博客和博主信息
- **contact/index.html**：联系页面，提供联系方式
- **friends/index.html**：友链页面，展示友情链接
- **categories/index.html**：分类页面，展示所有文章分类
- **tags/index.html**：标签页面，展示所有文章标签
- **archives/index.html**：归档页面，按时间展示所有文章

### 2. 文章文件

文章文件存储在 `posts/` 目录中，使用 abbrlink 格式命名（如 `10a5f53c.html`），这是由 Hexo 的 abbrlink 插件生成的，用于创建永久链接。

### 3. 资源文件

- **css/**：包含网站的样式文件
- **js/**：包含网站的 JavaScript 文件
- **images/** 和 **img/**：包含网站的图片资源
- **gitcalendar/**：包含 Git 日历功能的相关文件

### 4. 数据文件

- **atom.xml**：RSS 订阅文件，用于订阅博客更新
- **sitemap.xml**：网站地图，帮助搜索引擎索引网站内容
- **search.xml**：搜索索引，用于站内搜索功能

## 部署说明

### 部署到 GitHub Pages

1. **构建静态文件**：执行 `npm run build` 命令生成最新的静态文件到 `public` 目录
2. **部署**：执行 `npm run deploy` 命令将 `public` 目录的内容部署到 GitHub Pages
3. **访问**：部署完成后，可以通过 `https://jjmk6.github.io` 访问博客

### 部署到其他平台

1. **构建静态文件**：执行 `npm run build` 命令生成最新的静态文件到 `public` 目录
2. **复制文件**：将 `public` 目录中的所有文件复制到目标平台的根目录
3. **配置**：根据目标平台的要求进行相应的配置
4. **部署**：按照目标平台的部署流程完成部署

### 支持的部署平台

- **GitHub Pages**：免费的静态网站托管服务
- **Netlify**：支持持续部署和自动化构建
- **Vercel**：快速的静态网站部署平台
- **Coding Pages**：国内的静态网站托管服务
- **个人服务器**：可以部署到自己的服务器上

## 文件生成规则

### 文章生成

- Markdown 文件会被转换为 HTML 文件
- 文章的永久链接由 abbrlink 插件生成
- 文章的分类和标签会生成对应的页面
- 文章会被添加到归档页面中

### 资源处理

- 图片资源会被复制到对应的目录
- CSS 和 JavaScript 文件会被处理和压缩
- 其他静态资源会被直接复制

### 配置文件影响

- `_config.yml` 中的配置会影响生成的静态文件
- `_config.butterfly.yml` 中的主题配置会影响网站的外观

## 注意事项

1. **不要直接修改**：`public` 目录中的文件是自动生成的，直接修改这些文件会在下次构建时被覆盖
2. **定期清理**：如果网站内容发生较大变化，建议在构建前清理 `public` 目录，执行 `hexo clean` 命令
3. **版本控制**：通常不需要将 `public` 目录添加到版本控制中，可以在 `.gitignore` 文件中忽略它
4. **部署前检查**：在部署前，建议在本地预览网站，确保所有内容都正确显示
5. **文件大小**：注意图片等资源的大小，避免网站加载速度过慢

## 本地预览

在部署前，可以通过以下命令在本地预览网站：

```bash
# 启动本地服务器
npm run server

# 访问地址
# http://localhost:4000
```

## 故障排查

如果在生成或部署过程中遇到问题，可以尝试以下方法：

1. **清理缓存**：执行 `hexo clean` 命令清理缓存和生成的文件
2. **重新构建**：执行 `npm run build` 命令重新构建网站
3. **检查配置**：检查 `_config.yml` 和 `_config.butterfly.yml` 中的配置是否正确
4. **查看日志**：构建过程中的日志可以帮助定位问题
5. **更新依赖**：确保所有依赖包都是最新版本

## 总结

`public` 目录是 Hexo 博客的静态文件输出目录，包含了所有可以直接部署到 Web 服务器的文件。通过了解这个目录的结构和内容，可以更好地管理和部署博客网站。

---

© 2026 JIE的笔记本. 保留所有权利。