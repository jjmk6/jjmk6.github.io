<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’åŠ¨å°ç²¾çµ</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            font-family: 'Microsoft Yahei', sans-serif;
            background-color: #f0f2f5;
        }

        /* ä¸»å®¹å™¨ï¼šå›ºå®šåœ¨å·¦ä¸‹è§’ */
        #interactive-elf {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 9999;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        #interactive-elf:hover {
            transform: scale(1.05);
        }

        /* å°ç²¾çµå›¾ç‰‡ï¼šæ”¾å¤§åˆ°2å€ï¼ˆåŸ180pxâ†’360pxï¼‰ï¼Œä¹Ÿå¯æ”¹270pxä¸º1.5å€ */
        #elf-image {
            width: 360px; /* æ ¸å¿ƒä¿®æ”¹ï¼šå°ºå¯¸æ”¾å¤§2å€ï¼Œå¦‚éœ€1.5å€å¯æ”¹ä¸º270px */
            height: auto;
            display: block;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        /* å¯¹è¯æ°”æ³¡ï¼šé€‚é…æ”¾å¤§åçš„ç²¾çµï¼Œè°ƒæ•´å°ºå¯¸å’Œä½ç½® */
        #elf-speech {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 12px;
            padding: 12px 20px; /* æ°”æ³¡æ”¾å¤§ï¼Œé€‚é…æ›´å¤§çš„ç²¾çµ */
            background-color: #fff;
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            font-size: 16px; /* å­—ä½“æ”¾å¤§ï¼Œæ›´é†’ç›® */
            line-height: 1.5;
            max-width: 300px; /* æ°”æ³¡å®½åº¦é€‚é… */
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        #elf-speech.show {
            opacity: 1;
        }

        /* æ°”æ³¡å°å°¾å·´ï¼šé€‚é…æ”¾å¤§åçš„æ°”æ³¡ */
        #elf-speech::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid #fff;
        }

        /* å³ä¾§è®¾è®¡ç†å¿µé¢æ¿ */
        #design-panel {
            position: fixed;
            top: 0;
            right: 0;
            width: 320px;
            height: 100vh;
            background-color: #fff;
            box-shadow: -2px 0 12px rgba(0, 0, 0, 0.1);
            padding: 24px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        #design-panel h2 {
            color: #333;
            font-size: 20px;
            margin-top: 0;
            margin-bottom: 16px;
        }

        #design-panel p {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        #design-panel ul {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <!-- äº’åŠ¨å°ç²¾çµ -->
    <div id="interactive-elf">
        <div id="elf-speech"></div>
        <img id="elf-image" src="" alt="äº’åŠ¨å°ç²¾çµ">
    </div>

    <!-- å³ä¾§è®¾è®¡ç†å¿µé¢æ¿ -->
    <div id="design-panel">
        <h2>ğŸ¨ è®¾è®¡ç†å¿µ</h2>
        <p>è¿™ä¸ªäº’åŠ¨å°ç²¾çµçš„è®¾è®¡æ ¸å¿ƒæ˜¯<strong>è½»é‡åŒ–ã€é«˜è¶£å‘³æ€§</strong>ï¼Œæ—¨åœ¨ä¸ºé™æ€ç½‘ç«™å¢æ·»ç”ŸåŠ¨çš„äº¤äº’ä½“éªŒï¼Œæœ¬æ¬¡ä¼˜åŒ–é‡ç‚¹æå‡äº†å°ºå¯¸å’Œäº¤äº’çš„è¶£å‘³æ€§ã€‚</p>
        
        <p><strong>æ ¸å¿ƒè®¾è®¡æ€è·¯ï¼š</strong></p>
        <ul>
            <li><strong>è§†è§‰å°ºå¯¸ï¼š</strong>å°†ç²¾çµæ”¾å¤§2å€ï¼ˆ360pxå®½ï¼‰ï¼Œè§†è§‰æ›´é†’ç›®ï¼Œä¿ç•™å·¦ä¸‹è§’å›ºå®šä½ç½®ï¼Œæ—¢ä¸å¹²æ‰°ä¸»å†…å®¹åˆæœ‰å­˜åœ¨æ„Ÿã€‚</li>
            <li><strong>äº¤äº’é€»è¾‘ï¼š</strong>åŒºåˆ†ç‚¹å‡»åŒºåŸŸï¼ˆèƒ¸éƒ¨ä¸“å±è¯æœ¯+é€’è¿›å¼åé¦ˆï¼‰ï¼Œç‚¹å‡»èƒ¸éƒ¨ä¼šè§¦å‘â€œè®¨åŒå•¦â†’å˜æ€â†’æ‰“110â€ç­‰è¶£å‘³è¯æœ¯ï¼Œéèƒ¸éƒ¨åŒºåŸŸåˆ™æ˜¾ç¤ºéšæœºä¿çš®è¯ï¼Œæå‡äº¤äº’çš„è¶£å‘³æ€§å’Œå±‚æ¬¡æ„Ÿã€‚</li>
            <li><strong>è§†è§‰åé¦ˆï¼š</strong>æ°”æ³¡å’Œå­—ä½“åŒæ­¥æ”¾å¤§ï¼Œæ‚¬åœå¾®ç¼©æ”¾ï¼Œåé¦ˆæ›´ç›´è§‚ï¼Œç¬¦åˆç”¨æˆ·äº¤äº’ç›´è§‰ã€‚</li>
        </ul>

        <p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p>
        <ul>
            <li>çº¯HTML/CSS/JavaScriptå®ç°ï¼Œæ— å¤–éƒ¨æ¡†æ¶ä¾èµ–ï¼Œå¯ç›´æ¥é›†æˆåˆ°ä»»æ„é™æ€ç½‘ç«™ã€‚</li>
            <li>åŸºäºç‚¹å‡»åæ ‡åˆ¤æ–­åŒºåŸŸï¼Œå®ç°å·®å¼‚åŒ–è¯æœ¯åé¦ˆï¼Œå¤šæ¬¡ç‚¹å‡»èƒ¸éƒ¨ä¼šè§¦å‘é€’è¿›å¼è¶£å‘³å°è¯ã€‚</li>
            <li>å“åº”å¼è®¾è®¡ï¼Œæ”¾å¤§åä»é€‚é…ä¸åŒè®¾å¤‡ï¼Œæ°”æ³¡å°ºå¯¸åŒæ­¥ä¼˜åŒ–ï¼Œè§†è§‰æ›´åè°ƒã€‚</li>
        </ul>
    </div>

    <script>
        // é…ç½®é¡¹ï¼šå·²æ›¿æ¢ä¸ºä½ æä¾›çš„ä¸‰å¼ å›¾ç‰‡çœŸå®URL
        const elfConfig = {
            images: [
                "https://p26-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/e2b9cf2606ef4ec9a91ab85b875816d1.jpg~tplv-a9rns2rl98-image.png?lk3s=8e244e95&rcl=20260225171626E88F01793FFA169B72B3&rrcfp=dafada99&x-expires=2088234986&x-signature=qyTPN8wrsTus7s%2Buc2bJCCSrguk%3D",
                "https://p11-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/ad7b51a37a474ad6856eafdd260e9385.jpg~tplv-a9rns2rl98-image.png?lk3s=8e244e95&rcl=20260225171626E88F01793FFA169B72B3&rrcfp=dafada99&x-expires=2088234986&x-signature=Ry3Vt2Z%2BhbR9FMVe3%2BJJM8lT93M%3D",
                "https://p26-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/e2a87dae79b446189786a037d27e7f08.jpg~tplv-a9rns2rl98-image.png?lk3s=8e244e95&rcl=20260225171626E88F01793FFA169B72B3&rrcfp=dafada99&x-expires=2088234986&x-signature=NBcmzgvCpUic7inN0Ido5803V%2BQ%3D"
            ],
            // æ™®é€šåŒºåŸŸä¿çš®è¯ï¼ˆéèƒ¸éƒ¨ç‚¹å‡»ï¼‰
            normalDialogues: [
                "å“ˆå–½ï½ä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡å“¦ï¼(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§",
                "å·å·å‘Šè¯‰ä½ ï¼Œæˆ‘å…¶å®æ˜¯ä»äºŒæ¬¡å…ƒç©¿è¶Šæ¥çš„ï¼(ï½¡â€¢Ì€á´—-)âœ§",
                "ä»Šå¤©çš„ä½ ä¹Ÿè¶…æ£’çš„ï¼Œç»§ç»­åŠ æ²¹å‘€ï¼(à¹‘ËƒÌµá´—Ë‚Ìµ)Ùˆ",
                "å“å‘€ï¼Œè¢«ä½ å‘ç°äº†ï¼Œæˆ‘å…¶å®æ˜¯ç½‘ç«™çš„å®ˆæŠ¤ç²¾çµï½(â—â€¢á´—â€¢â—)",
                "è¦ä¸è¦å’Œæˆ‘ä¸€èµ·æ‘¸é±¼ï¼Ÿå°±ä¸€ä¼šå„¿â€¦(à¹‘â€¢ÌÏ‰â€¢Ì€à¹‘)",
                "çŒœçŒœæˆ‘ä¸‹ä¸€ä¸ªåŠ¨ä½œæ˜¯ä»€ä¹ˆï¼ŸçŒœå¯¹äº†æœ‰å¥–åŠ±å“¦ï½(â‰§âˆ‡â‰¦)ï¾‰",
                "æˆ‘è¶…ç”œçš„ï¼Œè¦ä¸è¦å°ä¸€å£ï¼Ÿ(ï½¡â™¥â€¿â™¥ï½¡)"
            ],
            // èƒ¸éƒ¨åŒºåŸŸé€’è¿›å¼è¯æœ¯ï¼ˆå¤šæ¬¡ç‚¹å‡»ä¼šåˆ‡æ¢ï¼‰
            chestDialogues: [
                "è®¨åŒå•¦ï½ä¹±ç‚¹ä»€ä¹ˆå‘¢ (â„ â„â€¢â„Ï‰â„â€¢â„ â„)",
                "å–‚ï¼ä½ æ˜¯ä¸æ˜¯å˜æ€å•Šï¼ŸğŸ˜¡",
                "å†ç‚¹æˆ‘è¦æ‰“110äº†å“¦ï¼ğŸš¨",
                "æ•‘å‘½å•Šï¼æœ‰è‰²ç‹¼éªšæ‰°æˆ‘ï¼ğŸ†˜",
                "ç®—ä½ ç‹ â€¦æˆ‘èº²è¿˜ä¸è¡Œå˜›ğŸ˜¢",
                "å‘œå‘œå‘œï¼Œæ¬ºè´Ÿäººï¼Œæˆ‘è¦å‘Šè¯‰ç®¡ç†å‘˜ï¼ğŸ˜­"
            ]
        };

        let currentIndex = 0; // å›¾ç‰‡åˆ‡æ¢ç´¢å¼•
        let chestClickCount = 0; // èƒ¸éƒ¨ç‚¹å‡»æ¬¡æ•°ï¼ˆç”¨äºé€’è¿›è¯æœ¯ï¼‰
        const elfImage = document.getElementById('elf-image');
        const elfSpeech = document.getElementById('elf-speech');
        const interactiveElf = document.getElementById('interactive-elf');

        // åˆå§‹åŒ–æ˜¾ç¤ºç¬¬ä¸€å¼ å›¾ç‰‡
        elfImage.src = elfConfig.images[0];

        // ç‚¹å‡»äº‹ä»¶å¤„ç†ï¼ˆæ ¸å¿ƒï¼šåˆ¤æ–­ç‚¹å‡»åŒºåŸŸ+é€’è¿›è¯æœ¯ï¼‰
        interactiveElf.addEventListener('click', (e) => {
            // 1. åˆ‡æ¢åŠ¨ä½œï¼ˆå¾ªç¯åˆ‡æ¢ä¸‰å¼ å›¾ç‰‡ï¼‰
            currentIndex = (currentIndex + 1) % elfConfig.images.length;
            elfImage.src = elfConfig.images[currentIndex];

            // 2. è·å–ç‚¹å‡»ä½ç½®ï¼ˆç›¸å¯¹ç²¾çµå›¾ç‰‡çš„åæ ‡ï¼‰
            const rect = elfImage.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const clickY = e.clientY - rect.top;
            const imgHeight = rect.height;
            
            // 3. åˆ¤æ–­æ˜¯å¦ç‚¹å‡»èƒ¸éƒ¨åŒºåŸŸï¼ˆyè½´ 30% - 60% èŒƒå›´ï¼Œé€‚é…ä¸åŒå°ºå¯¸ï¼‰
            const isChestClick = clickY > imgHeight * 0.3 && clickY < imgHeight * 0.6;
            
            let dialogue = '';
            if (isChestClick) {
                // èƒ¸éƒ¨ç‚¹å‡»ï¼šé€’è¿›å¼è¯æœ¯
                dialogue = elfConfig.chestDialogues[chestClickCount % elfConfig.chestDialogues.length];
                chestClickCount++; // ç‚¹å‡»æ¬¡æ•°+1ï¼Œä¸‹æ¬¡åˆ‡æ¢ä¸‹ä¸€å¥
            } else {
                // éèƒ¸éƒ¨ç‚¹å‡»ï¼šéšæœºæ™®é€šä¿çš®è¯
                dialogue = elfConfig.normalDialogues[Math.floor(Math.random() * elfConfig.normalDialogues.length)];
                chestClickCount = 0; // é‡ç½®èƒ¸éƒ¨ç‚¹å‡»æ¬¡æ•°
            }

            // 4. æ˜¾ç¤ºè¯æœ¯æ°”æ³¡ï¼ˆ4ç§’åæ¶ˆå¤±ï¼Œé€‚é…æ›´å¤§çš„ç²¾çµï¼‰
            elfSpeech.textContent = dialogue;
            elfSpeech.classList.add('show');
            setTimeout(() => {
                elfSpeech.classList.remove('show');
            }, 4000);
        });
    </script>
</body>
</html>